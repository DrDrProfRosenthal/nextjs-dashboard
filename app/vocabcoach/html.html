<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Vocab Trainer</title>


    <style>
        /* CSS reset for removing default margin and padding */
* {
    margin: 0;
    padding: 0;
    box-sizing: border-box;
}

body, html {
    height: 100%;
    font-family: Arial, sans-serif;
    background-color: #FFF5E1;
    color: #C80036;
    font-size: 50px;
    font-family: Georgia, 'Times New Roman', Times, serif;
}

.center-container {
    display: flex;
    justify-content: center;
    align-items: center;
    height: 100vh;
}
  

.centered-input {
    padding: 10px;
    font-size: 50px;
    font-family: Georgia, 'Times New Roman', Times, serif;
}

.prompt-container {
display: block;
border: 1px solid #FF6969;
border-radius: 20px;
padding: 100px;
}


input{
  border-color: transparent;
  border-bottom: 1px solid ;
  background: transparent;
  color: #FF6969;;
}

input:focus{
  outline: none;
}

input::-webkit-input-placeholder {
    color: #FF6969;
}

input:-moz-placeholder { /* Firefox 18- */
    color: #FF6969;
}

input::-moz-placeholder {  /* Firefox 19+ */
    color: #FF6969;
}

input:-ms-input-placeholder {
    color: #FF6969;
}

.btn {
            cursor: pointer;
            border: 2px solid #FF6969;
            border-radius: 10px;
            padding:10px 20px;
            background-color:#FFF5E1;
         
            font-size: 50px;
            font-family: Georgia, 'Times New Roman', Times, serif;
            color: #FF6969;;
           }


.vocab-con{
    display: block;
     text-align: center;
    padding-top:0px;
    font-size: 60px;  
     margin-bottom:40px;
}           
    </style>
</head>
<body>
    <div class="center-container">
        <div class="prompt-container">
            <div class="vocab-con">
             <span class="current-vocab" id="current-vocab" style=" border-bottom: 2px solid ;">Vocab</span>
           </div>
            <input style="display: inline-block; " type="text" class="centered-input" placeholder="Enter text here">
            <button style="display: inline-block;" class="btn" id="myBtn" type="submit">Go!</button>
        </div>
    </div>
</body>

<script>

document.getElementById("myBtn").focus();

var vocabList = [];
var currentIndex = 0;
    
fetch('vocabs.csv')
        .then(response => response.text())
        .then(data => {
            vocabList = parseCSV(data);           
            if (vocabList.length > 0) {
                displayNextVocab();
            }
        })
        //.catch(error => console.error('Error loading CSV:', error));

 function parseCSV(data) {
        const lines = data.split('\n');
                return lines.map( (line) => {                    
                try {
                    var parts = line.split(';');   
                    return { english: parts[0].trim(), german: parts[1].trim() }; 
                }catch{
                   return {english:"error999"}
                }
          
        });   
        }    


function displayNextVocab() {
        if(vocabList[currentIndex].english != "error999" && currentIndex < vocabList.length){//sind noch Vokabeln da, schreib die nÃ¤chste hin  
            document.getElementById("current-vocab").textContent  = vocabList[currentIndex].german;             
        } else { // sind keine Vokabeln mehr da, fang von vorne an
            currentIndex = 0;
            alert('Congratulations! You have completed the vocabulary list.');
            displayNextVocab();
        }
    }


    document.querySelector('#myBtn').addEventListener('click', () => {
        const input = document.querySelector('.centered-input');
       
        if (input.value.trim().toLowerCase() === vocabList[currentIndex].english.toLowerCase()) {
            input.value = '';
            currentIndex++;
            displayNextVocab();
        } else {
            input.value = '';
            alert('Incorrect! Try again.');
        }
    });

</script>
</html>
